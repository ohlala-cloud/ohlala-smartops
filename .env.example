# Ohlala SmartOps Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# AWS Configuration
# ============================================================================

# AWS Region where the bot is deployed
AWS_REGION=us-east-1

# AWS credentials (not needed if using IAM roles in ECS/EC2)
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key

# ============================================================================
# Microsoft Teams Bot Configuration
# ============================================================================

# Microsoft App ID for Teams Bot authentication
MICROSOFT_APP_ID=your-microsoft-app-id

# Microsoft App Password for Teams Bot authentication
MICROSOFT_APP_PASSWORD=your-microsoft-app-password

# Microsoft App Type (SingleTenant, MultiTenant, or UserAssignedMSI)
MICROSOFT_APP_TYPE=SingleTenant

# Microsoft Tenant ID (required for SingleTenant)
MICROSOFT_APP_TENANT_ID=your-tenant-id

# ============================================================================
# Amazon Bedrock Configuration (Claude AI)
# ============================================================================

# Enable Bedrock Guardrails for content filtering
BEDROCK_GUARDRAIL_ENABLED=false

# Bedrock Guardrail ID (required if guardrails enabled)
# BEDROCK_GUARDRAIL_ID=your-guardrail-id

# Bedrock Guardrail Version
# BEDROCK_GUARDRAIL_VERSION=1

# Override guardrail version for specific deployments
# BEDROCK_GUARDRAIL_VERSION_OVERRIDE=1

# ============================================================================
# MCP (Model Context Protocol) Configuration
# ============================================================================

# MCP AWS API Server URL (for AWS operations)
MCP_AWS_API_URL=http://localhost:8080

# MCP AWS Knowledge Server URL (for AWS documentation)
MCP_AWS_KNOWLEDGE_URL=https://knowledge-mcp.global.api.aws

# MCP Internal API Key for authentication between containers
# MCP_INTERNAL_API_KEY=your-internal-api-key

# MCP HTTP Client Retry Configuration
MCP_MAX_RETRIES=3
MCP_BASE_DELAY=1.0
MCP_MAX_DELAY=16.0
MCP_BACKOFF_MULTIPLIER=2.0

# ============================================================================
# Rate Limiting & Throttling Configuration
# ============================================================================

# AWS API Throttling (prevents overwhelming AWS APIs)
MAX_CONCURRENT_AWS_CALLS=8
AWS_API_RATE_LIMIT=15.0
AWS_API_MAX_TOKENS=30

# Bedrock API Throttling (prevents exceeding Claude model limits)
MAX_CONCURRENT_BEDROCK_CALLS=2
BEDROCK_API_RATE_LIMIT=0.5
BEDROCK_API_MAX_TOKENS=5

# Circuit Breaker Configuration for AWS API calls
AWS_CIRCUIT_BREAKER_ENABLED=false
AWS_CIRCUIT_BREAKER_THRESHOLD=100
AWS_CIRCUIT_BREAKER_TIMEOUT=10.0

# Maximum concurrent HTTP requests to the bot
MAX_CONCURRENT_REQUESTS=10

# ============================================================================
# Audit & Logging Configuration
# ============================================================================

# Enable audit logging for compliance and security
ENABLE_AUDIT_LOGGING=true

# Include PII (Personally Identifiable Information) in audit logs
# WARNING: Only enable if you have proper data protection controls
AUDIT_LOG_INCLUDE_PII=false

# CloudFormation Stack Name (for CloudWatch metrics namespacing)
# STACK_NAME=ohlala-smartops-stack

# ============================================================================
# Application Configuration
# ============================================================================

# Port for the FastAPI application (default: 8000)
PORT=8000

# ============================================================================
# Development & Testing
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# Optional: Slack Integration (if using Slack instead of/in addition to Teams)
# ============================================================================

# SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
# SLACK_SIGNING_SECRET=your-slack-signing-secret
